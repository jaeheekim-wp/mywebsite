{
  "hash": "5b2ad9c1890c8b9e426895ec9b36162e",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"LS ë¹…ë°ì´í„° ìŠ¤ì¿¨ HW7\"\nauthor : \"ì¬í¬\"\ndate : \"2024-09-02\"\ncategories : [bigdata]\njupyter: python3\n---\n\n## ADP í‘œë³¸ì ìˆ˜\n\n### 2022ë…„ì— ì‹¤ì‹œ ëœ ADP ì‹¤ê¸° ì‹œí—˜ì˜ í†µê³„íŒŒíŠ¸ í‘œì¤€ì ìˆ˜ëŠ” í‰ê· ì´ 30, í‘œì¤€í¸ì°¨ê°€ 5ì¸ ì •ê·œë¶„í¬ë¥¼ ë”°ë¥¸ë‹¤ê³  í•œë‹¤.\n### 1) ADP ì‹¤ê¸° ì‹œí—˜ì˜ í†µê³„íŒŒíŠ¸ í‘œì¤€ì ìˆ˜ì˜ ë°€ë„í•¨ìˆ˜ë¥¼ ê·¸ë ¤ë³´ì„¸ìš”.\n\n::: {#9b554d36 .cell execution_count=1}\n``` {.python .cell-code}\n# X âˆ¼ N(30, 5^2)\nimport numpy as np\nfrom scipy.stats import norm\nimport matplotlib.pyplot as plt\n\nx = np.arange(10,50,0.1)\ny = norm.pdf(x, loc = 30, scale = 5)\n\nplt.plot(x, y)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](hw7_files/figure-html/cell-2-output-1.png){width=579 height=411}\n:::\n:::\n\n\n### 2) ADP ìˆ˜í—˜ìƒì„ ì„ì˜ë¡œ 1ëª…ì„ ì„ íƒí•˜ì—¬ í†µê³„ ì ìˆ˜ë¥¼ ì¡°íšŒí–ˆì„ë•Œ 45ì  ë³´ë‹¤ ë†’ì€ ì ìˆ˜ë¥¼ ë°›ì•˜ì„ í™•ë¥ ì„ êµ¬í•˜ì„¸ìš”.\n\n::: {#c34f8f48 .cell execution_count=2}\n``` {.python .cell-code}\n# P(x>45)\nadp_x = 1 - norm.cdf(45, loc = 30, scale = 5)\nadp_x\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```\n0.0013498980316301035\n```\n:::\n:::\n\n\n### 3) ìŠ¬í†µì´ëŠ” ìƒìœ„ 10%ì— í•´ë‹¹í•˜ëŠ” ì ìˆ˜ë¥¼ ì–»ì—ˆë‹¤ê³  í•œë‹¤ë©´, ìŠ¬í†µì´ì˜ ì ìˆ˜ëŠ” ì–¼ë§ˆì¸ì§€ ê³„ì‚°í•´ë³´ì„¸ìš”.\n\n::: {#b939566e .cell execution_count=3}\n``` {.python .cell-code}\n# P(X>45)\nscore = norm.ppf(0.90, loc=30, scale=5)\nscore\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```\n36.407757827723\n```\n:::\n:::\n\n\n### 4) ìŠ¬ê¸°ë¡œìš´ í†µê³„ìƒí™œì˜ í•´ë‹¹ íšŒì°¨ ìˆ˜ê°•ìƒì€ 16ëª…ì´ì—ˆë‹¤ê³  í•œë‹¤. 16ëª…ì˜ í†µê³„ íŒŒíŠ¸ ì ìˆ˜ë¥¼ í‰ê·  ë‚´ì—ˆì„ ë•Œ, ì´ í‰ê· ê°’ì´ ë”°ë¥´ëŠ” ë¶„í¬ì˜ í™•ë¥ ë°€ë„ í•¨ìˆ˜ë¥¼ 1ë²ˆì˜ ê·¸ë˜í”„ì™€ ê²¹ì³ ê·¸ë ¤ë³´ì„¸ìš”.\n\n::: {#292c9899 .cell execution_count=4}\n``` {.python .cell-code}\n# í‘œë³¸ í‰ê· \n# X_VAR âˆ¼ N(30, 5^2/16)\n\nx = np.arange(10,50,0.1)\ny = norm.pdf(x, loc=30, scale=5)\n\nplt.plot(x, y, color='black')\n\ny2 = norm.pdf(x, loc=30, scale=5/np.sqrt(16))\n\nplt.plot(x, y2, color='red')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](hw7_files/figure-html/cell-5-output-1.png){width=579 height=411}\n:::\n:::\n\n\n### 5) ìŠ¬ê¸°ë¡œìš´ í†µê³„ìƒí™œ ADP ë°˜ ìˆ˜ê°•ìƒë“¤ì˜ í†µê³„ì ìˆ˜ë¥¼ í‰ê· ë‚´ì—ˆë‹¤ê³  í•  ë•Œ, ì´ ê°’ì´ 38ì ë³´ë‹¤ ë†’ê²Œ ë‚˜ì˜¬ í™•ë¥ ì„ êµ¬í•˜ì„¸ìš”.\n\n::: {#c8b2509c .cell execution_count=5}\n``` {.python .cell-code}\n# í‘œë³¸ í‰ê· \n# X_VAR âˆ¼ N(30, 5^2/16)\n# # P(X_VAR > 38)\nadp_score = 1 - norm.cdf(38, loc=30, scale=5/np.sqrt(16))\nadp_score\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```\n7.76885222819601e-11\n```\n:::\n:::\n\n\n## Covid 19 ë°œë³‘ë¥ \n\n### Covidâ€‘19ì˜ ë°œë³‘ë¥ ì€ 1%ë¼ê³  í•œë‹¤. ë‹¤ìŒì€ ì´ë²ˆ ì½”ë¡œë‚˜ ì‚¬íƒœë¡œ ì¸í•˜ì—¬ ì½”ë¡œë‚˜ ì˜ì‹¬ í™˜ìë“¤ 1,085ëª…ì„ ëŒ€ìƒìœ¼ë¡œ ìŠ¬í†µ íšŒì‚¬ì˜ â€œë‹¤ì¡ì•„â€ í‚¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì–‘ì„± ë°˜ì‘ì„ ì²´í¬í•œ ê²°ê³¼ì´ë‹¤.\n### í‚¤íŠ¸/ì‹¤ì œ ì–‘ì„± ìŒì„± í•©ê³„\n### ì–‘ì„± 370  10   380\n### ìŒì„± 15   690  705\n### í•©ê³„ 385  700  1085\n\n### 1) ë‹¤ì¡ì•„ í‚¤íŠ¸ê°€ ì½”ë¡œë‚˜ ë°”ì´ëŸ¬ìŠ¤ì— ê±¸ë¦° ì‚¬ëŒì„ ì–‘ì„±ìœ¼ë¡œ ì¡ì•„ë‚¼ í™•ë¥ ì„ ê³„ì‚°í•˜ì„¸ìš”.\n\n::: {#aebf11c3 .cell execution_count=6}\n``` {.python .cell-code}\n# P(í‚¤íŠ¸ ì–‘ì„± / ì‹¤ì œ ì–‘ì„±)\n370 / 385\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```\n0.961038961038961\n```\n:::\n:::\n\n\n### 2) ìŠ¬í†µ íšŒì‚¬ì—ì„œ ë‹¤ì¡ì•„ í‚¤íŠ¸ë¥¼ ì‚¬ìš©í•´ ì–‘ì„±ìœ¼ë¡œ ë‚˜ì˜¨ ì‚¬ëŒì´ ì‹¤ì œë¡œëŠ” ì½”ë¡œë‚˜ ë°”ì´ëŸ¬ìŠ¤ì— ê±¸ë ¤ìˆì„ í™•ë¥ ì„ 97%ë¼ë©°, í‚¤íŠ¸ì˜ ìš°ìˆ˜ì„±ì„ ì£¼ì¥í–ˆë‹¤. ì´ ì£¼ì¥ì´ ì˜³ì§€ ì•Šì€ ì´ìœ ë¥¼ ì„œìˆ í•˜ì„¸ìš”.\n\n::: {#1816cd36 .cell execution_count=7}\n``` {.python .cell-code}\n# í‘œë³¸ê³¼ ëª¨ì§‘ë‹¨ ê°„ì˜ ì–‘ì„± ë¹„êµ ì°¨ì´ê°€ í¬ë‹¤ \n```\n:::\n\n\n### 3) Covidâ€‘19 ë°œë³‘ë¥ ì„ ì‚¬ìš©í•˜ì—¬, í‚¤íŠ¸ì˜ ê²°ê³¼ê°’ì´ ì–‘ì„±ìœ¼ë¡œ ë‚˜ì˜¨ ì‚¬ëŒì´ ì‹¤ì œë¡œ ì½”ë¡œë‚˜ ë°”ì´ëŸ¬ìŠ¤ì—ê±¸ë ¤ìˆì„ í™•ë¥ ì„ êµ¬í•˜ì„¸ìš”.\n\n::: {#1ab3832f .cell execution_count=8}\n``` {.python .cell-code}\n# COVID ë°œë³‘ë¥  0.01\n# P(ì‹¤ì œì–‘ì„± |í‚¤íŠ¸ì–‘ì„± )\nsol = (0.01 * (370 / 385)) / (0.01 * (370 / 385) + 0.99 * (10 / 700))\nround(sol,3)\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```\n0.405\n```\n:::\n:::\n\n\n## ì¹´ì´ì œê³±ë¶„í¬ì™€ í‘œë³¸ë¶„ì‚°\n\n### ììœ ë„ê°€ ğ‘˜ì¸ ì¹´ì´ì œê³±ë¶„í¬ë¥¼ ë”°ë¥´ëŠ” í™•ë¥ ë³€ìˆ˜ ğ‘‹ ë¥¼ ğ‘‹ âˆ¼ ğœ’2(ğ‘˜) ê³¼ ê°™ì´ ë‚˜íƒ€ë‚´ê³ , ì´ í™•ë¥ ë³€ìˆ˜ì˜ í™•ë¥ ë°€ë„í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n### ğ‘“ğ‘‹(ğ‘¥; ğ‘˜) =1 2ğ‘˜/2Î“(ğ‘˜/2)ğ‘¥ğ‘˜/2âˆ’1ğ‘’âˆ’ğ‘¥/2 \n\n### 1) ììœ ë„ê°€ 4ì¸ ì¹´ì´ì œê³±ë¶„í¬ì˜ í™•ë¥ ë°€ë„í•¨ìˆ˜ë¥¼ ê·¸ë ¤ë³´ì„¸ìš”.\n\n::: {#3ba2c69e .cell execution_count=9}\n``` {.python .cell-code}\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.stats import chi2, norm\n\nk = np.linspace(0, 40, 500)\ny = chi2.pdf(k, df = 4)\nplt.plot(k, y, color = \"red\")\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](hw7_files/figure-html/cell-10-output-1.png){width=588 height=411}\n:::\n:::\n\n\n### 2) ë‹¤ìŒì˜ í™•ë¥ ì„ êµ¬í•´ë³´ì„¸ìš”.\n\n::: {#3761ab97 .cell execution_count=10}\n``` {.python .cell-code}\n# P (3 â‰¤ X â‰¤ 5)\nvalue = chi2.cdf(5, df = 4) - chi2.cdf(3, df = 4)\nvalue\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```\n0.27052790518742903\n```\n:::\n:::\n\n\n### 3) ììœ ë„ê°€ 4ì¸ ì¹´ì´ì œê³±ë¶„í¬ì—ì„œ í¬ê¸°ê°€ 1000ì¸ í‘œë³¸ì„ ë½‘ì€ í›„, íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë ¤ë³´ì„¸ìš”.\n\n::: {#bd60d842 .cell execution_count=11}\n``` {.python .cell-code}\n# í‘œë³¸ ìƒì„±\nnp.random.seed(2024)\nchi_x = chi2.rvs(df=4, size=1000)\n\n# íˆìŠ¤í† ê·¸ë¨ í‘œì‹œ\nplt.hist(chi_x, bins=50, density=True, color=\"red\", edgecolor=\"black\")\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](hw7_files/figure-html/cell-12-output-1.png){width=598 height=411}\n:::\n:::\n\n\n### 4) ììœ ë„ê°€ 4ì¸ ì¹´ì´ì œê³±ë¶„í¬ë¥¼ ë”°ë¥´ëŠ” í™•ë¥ ë³€ìˆ˜ì—ì„œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ê°’ ì¤‘ ìƒìœ„ 5%ì— í•´ë‹¹í•˜ëŠ”ê°’ì€ ì–¼ë§ˆì¸ì§€ ê³„ì‚°í•´ë³´ì„¸ìš”.\n\n::: {#f5371475 .cell execution_count=12}\n``` {.python .cell-code}\nchi_value = chi2.ppf(0.95, df = 4) \nchi_value\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```\n9.487729036781154\n```\n:::\n:::\n\n\n### 5) 3ë²ˆì—ì„œ ë½‘íŒ í‘œë³¸ê°’ë“¤ ì¤‘ ìƒìœ„ 5%ì— ìœ„ì¹˜í•œ í‘œë³¸ì˜ ê°’ì€ ì–¼ë§ˆì¸ê°€ìš”?\n\n::: {#7b1aa296 .cell execution_count=13}\n``` {.python .cell-code}\n# í‘œë³¸ ë‚´ì—ì„œ ìƒìœ„ 5%ì— í•´ë‹¹í•˜ëŠ” ê°’ ê³„ì‚°\nthreshold_value = np.percentile(chi_x, 95)\nthreshold_value\n```\n\n::: {.cell-output .cell-output-display execution_count=13}\n```\n10.006310615752485\n```\n:::\n:::\n\n\n### 6) í‰ê· ì´ 3, í‘œì¤€í¸ì°¨ê°€ 2ì¸ ì •ê·œë¶„í¬ë¥¼ ë”°ë¥´ëŠ” í™•ë¥ ë³€ìˆ˜ì—ì„œ í¬ê¸°ê°€ 20ì¸ í‘œë³¸, ğ‘¥1, ..., ğ‘¥20,ì„ë½‘ì€ í›„ í‘œë³¸ë¶„ì‚°ì„ ê³„ì‚°í•œ ê²ƒì„ ğ‘ 21ì´ë¼ ìƒê°í•´ë³´ì£ .ê°™ì€ ë°©ë²•ìœ¼ë¡œ 500ê°œì˜ ğ‘ 2 ë“¤, ğ‘ 21, ğ‘ 2, ..., ğ‘ 2500 ë°œìƒì‹œí‚µë‹ˆë‹¤.ë°œìƒí•œ 500ê°œì˜ ğ‘ 2 ë“¤ ê°ê°ì— 4.75ë¥¼ ê³±í•˜ê³ , ê·¸ê²ƒë“¤ì˜ íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë ¤ë³´ì„¸ìš”. (íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë¦´ ë•Œ probability = TRUE ì˜µì…˜ì„ ì‚¬ìš©í•´ì„œ ê·¸ë¦´ ê²ƒ) \n### ìœ„ì—ì„œ ê·¸ë¦° íˆìŠ¤í† ê·¸ë¨ì— ììœ ë„ê°€ 19ì¸ ì¹´ì´ì œê³±ë¶„í¬ í™•ë¥ ë°€ë„í•¨ìˆ˜ë¥¼ ê²¹ì³ê·¸ë ¤ë³´ì„¸ìš”.\n\n::: {#8d4d2850 .cell execution_count=14}\n``` {.python .cell-code}\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.stats import norm, chi2\n\n# 1. ëœë¤ ì‹œë“œ ì„¤ì • (ì¬í˜„ ê°€ëŠ¥ì„± í™•ë³´)\nnp.random.seed(2024)\n\n# 2. ì •ê·œë¶„í¬ì˜ í‰ê· ê³¼ í‘œì¤€í¸ì°¨ ì„¤ì •\nloc = 3     # í‰ê·  (mean)\nscale = 2   # í‘œì¤€í¸ì°¨ (standard deviation)\n\n# 3. ìƒ˜í”Œì˜ í¬ê¸°ì™€ ìƒ˜í”Œë§ íšŸìˆ˜ ì„¤ì •\nn = 20             # ê° ìƒ˜í”Œì˜ í¬ê¸° (ìƒ˜í”Œë‹¹ 20ê°œ ë°ì´í„°)\nnum_samples = 500  # ìƒ˜í”Œë§ íšŸìˆ˜ (ì´ 500ê°œì˜ ìƒ˜í”Œ ìƒì„±)\n\n# 4. ê° ìƒ˜í”Œì˜ ë¶„ì‚°ì„ ì €ì¥í•  ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”\nvar_samples = []\n\n# 5. 500ê°œì˜ ìƒ˜í”Œì„ ìƒì„±í•˜ê³  ê° ìƒ˜í”Œì˜ ë¶„ì‚°ì„ ê³„ì‚°í•˜ì—¬ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥\nfor i in range(num_samples):\n    # í‰ê·  3, í‘œì¤€í¸ì°¨ 2ì¸ ì •ê·œë¶„í¬ì—ì„œ 20ê°œì˜ ë°ì´í„° ìƒ˜í”Œë§\n    x = norm.rvs(loc=loc, scale=scale, size=n)\n    \n    # ìƒ˜í”Œì—ì„œ ë¶„ì‚° ê³„ì‚° (ddof=1ë¡œ í‘œë³¸ë¶„ì‚°ì„ ê³„ì‚°)\n    var_samples.append(np.var(x, ddof=1))\n\n# 6. ê³„ì‚°ëœ ë¶„ì‚° ê°’ì„ ìŠ¤ì¼€ì¼ë§ (ê° ë¶„ì‚° ê°’ì— 4.75ë¥¼ ê³±í•¨)\nscaled_var_samples = np.array(var_samples) * 4.75\n\n# 7. ìŠ¤ì¼€ì¼ëœ ë¶„ì‚° ê°’ì˜ íˆìŠ¤í† ê·¸ë¨ ê·¸ë¦¬ê¸°\nplt.hist(scaled_var_samples, bins=50, density=True, color=\"lightblue\", edgecolor=\"black\")\nplt.xlabel(\"4.75 * s^2\")\nplt.ylabel(\"density\")\n \n ## density=False, íˆìŠ¤í† ê·¸ë¨ì˜ ë§‰ëŒ€ëŠ” ê° êµ¬ê°„ì— ì†í•˜ëŠ” ë°ì´í„° ê°œìˆ˜\n ## density=True, íˆìŠ¤í† ê·¸ë¨ì˜ ë§‰ëŒ€ ë†’ì´ëŠ” **í•´ë‹¹ êµ¬ê°„ì— ì†í•˜ëŠ” ë°ì´í„°ì˜ ë¹„ìœ¨(í™•ë¥ )\n ## íˆìŠ¤í† ê·¸ë¨ì˜ ì „ì²´ ë©´ì ì´ 1ì´ ë˜ë„ë¡ ë§‰ëŒ€ì˜ ë†’ì´ê°€ ì¡°ì •>ë‹¤ë¥¸ í¬ê¸°ì˜ ìƒ˜í”Œë“¤ê³¼ ë¹„êµí•˜ê¸° ì‰¬ì›Œì§.\n\n# 8. ì´ë¡ ì ì¸ ì¹´ì´ì œê³±(Ï‡Â²) ë¶„í¬ ê·¸ë¦¬ê¸°\nx = np.linspace(0, max(scaled_var_samples), 1000)  # xì¶• ê°’ ì„¤ì • (0ì—ì„œ ìµœëŒ€ ë¶„ì‚° ê°’ê¹Œì§€)\npdf_chi19 = chi2.pdf(x, df=19)  # ììœ ë„(df)ê°€ 19ì¸ ì¹´ì´ì œê³± ë¶„í¬ì˜ í™•ë¥  ë°€ë„ í•¨ìˆ˜\n\n# 9. íˆìŠ¤í† ê·¸ë¨ ìœ„ì— ì¹´ì´ì œê³± ë¶„í¬ë¥¼ íŒŒë€ ì ì„ ìœ¼ë¡œ ê·¸ë¦¬ê¸°\nplt.plot(x, pdf_chi19, 'b--', linewidth=2)\n\n# 10. ë²”ë¡€ ì¶”ê°€ (ê·¸ë˜í”„ ì„¤ëª…)\nplt.legend([\"histogram\", \"df 19 chisquare dist\"], loc=\"upper right\")\n\n# 11. ê·¸ë˜í”„ í‘œì‹œ\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](hw7_files/figure-html/cell-15-output-1.png){width=597 height=429}\n:::\n:::\n\n\n",
    "supporting": [
      "hw7_files"
    ],
    "filters": [],
    "includes": {}
  }
}